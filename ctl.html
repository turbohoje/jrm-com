<html>
<head>
<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  
  <style>
  	#content {
		font-family: monospace;
		white-space: pre;  	
		width: 100%;
  	}
  	
  	#input {
  		width:100%;
  		height: 250px;
  	}
  </style>
</head>

<body>
CTL Hour Summary
<p>
<textarea id="input"></textarea>
<p><button id="doit">Do it</button>

<div id="content"></div>
</body>

<script>
function doIt(){
	var inputString = $("#input").val();
	var outputString = "";
	var rows = inputString.split("\n");
	var totalHours = 0;
	
	for(i in rows){
		var cols = rows[i].split("\t");
		if(/\d+\/\d+\/\d+/.exec(cols[0])){
			console.warn("match" + cols[0]);
			if(i > 1){
				outputString += "\n";
			}
			outputString += "Date: " + cols[0] + "\n"; 
			outputString += "Hours: " + cols[1] + " From: " + cols[2] + " to " + cols[3] + "\n";
			outputString += "Project: " + cols[4] + "\nLocation: " + cols[5] + "\n";
			outputString += "Description: \n" + cols[6] + "\n";
			
			totalHours += parseFloat(cols[1]);
			
			console.warn(outputString);
		}else{
			outputString += cols[0] + "\n";
		}
		
	}
	
	outputString += "\n\nTotal Hours: " + totalHours;
	
	$('#content').text(outputString);
	
}


$('#input').change(function(){
	doIt();
});
$('#doit').click(function(){
	doIt();
});
</script>
</html>